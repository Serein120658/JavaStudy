### 面向对象编程day03最后留下的提示技巧

##### 1、抽象类的应用场景

> 1. 定义标准框架 **抽象类可以定义一组抽象方法,作为标准框架供子类实现**。这在设计模式中的模板方法模式就是一个典型应用。
> 2. **代码复用** 通过将一些通用的方法实现在抽象类中,所有子类就无需重复实现这些公共部分的代码,实现了代码复用。
> 3. 提供默认行为 抽象类中可以包含非抽象方法,它们可以为子类提供通用的默认行为实现。
> 4. 强制子类实现特定方法 将某些核心方法声明为抽象的,可以强制要求子类一定要实现它们,起到了规范和约束的作用。
> 5. 钩子方法设计 抽象类可以通过钩子方法,让子类有机会在特定的操作之前或之后添加自己的代码。
> 6. 充当接口和实体类的中间层 抽象类可以在接口和实体类之间充当中间层,对部分接口方法提供实现,对剩余的方法延迟到子类实现。
>
> 抽象类常应用于为子类定义规范化框架、实现代码复用、体现部分抽象等场景。适当使用抽象类不仅可以增强代码的扩展性,还可以提高代码的可维护性和可重用性。

##### 2、接口的应用场景

> 1. 定义规范和协议 接口主要用于定义一组规范和协议,具体由不同的实现类去实现这些规范。这种"基于接口编程"有利于代码的松耦合和扩展。
> 2. **实现多继承 Java采用单继承,但可以通过实现多个接口来实现"多继承"的效果**。这在需要实现不相关的多个行为标准时很有用。
> 3. 构建回调框架 很多框架都使用了接口作为标准,上层调用者只需实现接口中定义的方法,并将接口实例传入框架方法即可实现回调。
> 4. **实现多态性 接口不能直接实例化,但可以作为引用类型由实现该接口的对象所指向,这种行为体现了多态性。**
> 5. 分离接口与实现 通过定义良好的接口与实现类相分离,可以有效降低耦合,并增强代码的可维护性。
> 6. **定义常量集 接口中的字段默认都是`public static final`的,因此也可以用于定义一组常量集合。**
> 7. 设计模式实现 诸如观察者模式、策略模式等设计模式的实现都离不开接口的运用。
>
> 接口主要作用是**定义规范和标准,提高代码的可扩展性和可维护性,是实现松耦合设计**的重要手段。合理利用接口可以构建可伸缩、可复用、可替换的优秀程序架构。

##### 3、抽象类与接口的区别

> 1. 单根性 **Java中的类只能继承一个父类**,但**可以实现多个接口**。这被称为Java的单根继承性。
> 2. 访问权限修饰符 抽象类中可以有构造方法、具体方法,而且可以有不同的访问权限修饰符。接口中的所有方法默认是`public abstract。`
> 3. 实例化 **抽象类不能直接被实例化,必须被继承并实现其抽象方法。**接口完全不能被实例化。
> 4. 实现方式
>     **继承抽象类时使用`extends`关键字,实现接口时使用`implements`关键字。**
> 5. **字段 抽象类可以有成员变量。接口中只允许有`public static final`类型的常量。**
> 6. 构造器 抽象类可以有构造器。接口完全没有构造器。
> 7. 与普通类的关系 抽象类是特殊的类,可以继承普通类和实现接口。接口不能继承类,但可以继承多个接口。
> 8. 设计理念
>     抽象类为部分抽象、部分实现,接口是完全契约、规范的抽象。
>
> 抽象类更像是特殊的类,而接口更像是一个规范定义。抽象类和接口都能实现抽象编程,但在设计理念和用法上有所不同。选择合适的抽象方式有助于设计出扩展性好、耦合度低的优秀程序架构。

##### 4、引用类型数组如何给元素赋值

对于引用类型的数组,例如String[]或自定义类的对象数组,给元素赋值的方式如下:

**1).  使用new关键字创建对象并赋值:**

```java
String[] strArr = new String[3];
strArr[0] = new String("Hello");
strArr[1] = new String("World");
strArr[2] = new String("Java");
```

**2).  使用无参构造器创建对象并赋值(前提是引用类型有无参构造器):**

```java
MyClass[] objArr = new MyClass[2];
objArr[0] = new MyClass();
objArr[1] = new MyClass();
```

3).  使用匿名类的方式创建对象并赋值(也可用于接口):

```java
MyInterface[] interfaceArr = new MyInterface[2];
interfaceArr[0] = new MyInterface() {
    // 匿名类实现接口方法
};
```

**4).  直接赋值已经创建好的对象引用:**

```java
MyClass obj1 = new MyClass();
MyClass obj2 = new MyClass();
MyClass[] objArr = {obj1, obj2};
```

**引用类型数组的元素在初始化时默认值是`null`,即不指向任何对象。**我们必须显式**创建对象并将对象的引用赋给数组元素,否则在使用时会引发空指针异常**。

##### 5、如何访问引用；类型数组元素的属性或行为

要访问引用类型数组元素的属性或方法,**需要先获取该元素的对象引用,然后再通过该引用去访问相应的属性或方法。**

具体步骤如下:

1. 访问属性 array[index].propertyName

   ```java
   Student[] students = new Student[3];
   students[0] = new Student("Alice", 20);
   System.out.println(students[0].name); // 访问Alice这个对象的name属性
   ```

2. 访问方法 array[index].methodName()

   ```java
   Circle[] circles = new Circle[2];
   circles[0] = new Circle(2.0);
   double area = circles[0].calculateArea(); // 调用circles[0]对象的calculateArea()方法
   ```

3. 链式访问 可以一次性链式访问多个层级的属性或方法

   ```java
   Person[] people = new Person[3];
   people[0] = new Person("Bob");
   Address addr = people[0].getAddress().getHomeAddress();
   ```

需要注意的是,在访问之前必须确保数组已经被初始化,且索引位置的元素已指向一个实际对象,否则会抛出空指针异常。